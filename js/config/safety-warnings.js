/**
 * AIæƒé™¤ã‚¢ãƒ‰ãƒã‚¤ã‚¶ãƒ¼ - å®‰å…¨è­¦å‘Šã‚·ã‚¹ãƒ†ãƒ 
 * CX Mainte Â© 2025
 * 
 * ğŸ›¡ï¸ ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å®‰å…¨ã‚’æœ€å„ªå…ˆã¨ã—ãŸåŒ…æ‹¬çš„è­¦å‘Šã‚·ã‚¹ãƒ†ãƒ 
 * ğŸš¨ åŒ–å­¦æ´—å‰¤ã€ç‰©ç†çš„å±é™ºã€å¥åº·ãƒªã‚¹ã‚¯ã®å…¨é¢çš„ãªå®‰å…¨ç®¡ç†
 */

// ğŸš¨ é‡å¤§å®‰å…¨è­¦å‘Šã‚·ã‚¹ãƒ†ãƒ 
export const CRITICAL_SAFETY_WARNINGS = {
    // å¡©ç´ ç³»æ´—å‰¤ã®å±é™ºæ€§
    chlorine_bleach: {
        level: "CRITICAL",
        icon: "âš ï¸ğŸ’€",
        title: "å¡©ç´ ç³»æ´—å‰¤ä½¿ç”¨æ™‚ã®é‡è¦ãªè­¦å‘Š",
        warnings: [
            "ğŸš« çµ¶å¯¾ã«ä»–ã®æ´—å‰¤ã¨æ··ãœãªã„ï¼ˆæœ‰æ¯’ãªå¡©ç´ ã‚¬ã‚¹ç™ºç”Ÿã®å±é™ºï¼‰",
            "ğŸ’¨ å¿…ãšååˆ†ãªæ›æ°—ã‚’è¡Œã†ï¼ˆçª“ã‚’å…¨é–‹ï¼‹æ›æ°—æ‰‡ï¼‰",
            "ğŸ›¡ï¸ ã‚´ãƒ æ‰‹è¢‹ãƒ»ãƒã‚¹ã‚¯ãƒ»ä¿è­·ãƒ¡ã‚¬ãƒã‚’å¿…ãšç€ç”¨",
            "ğŸ‘¥ å°ã•ãªãŠå­ã•ã‚“ãƒ»ãƒšãƒƒãƒˆã¯åˆ¥å®¤ã«ç§»å‹•",
            "ğŸ  ä½¿ç”¨ä¸­ã¯å®¶æ—ã«ä½œæ¥­ä¸­ã§ã‚ã‚‹ã“ã¨ã‚’çŸ¥ã‚‰ã›ã‚‹",
            "ğŸš¿ çš®è†šã«ä»˜ç€ã—ãŸå ´åˆã¯å¤§é‡ã®æ°´ã§15åˆ†ä»¥ä¸Šæ´—ã„æµã™",
            "ğŸ˜· æ°—åˆ†ãŒæ‚ªããªã£ãŸã‚‰ã™ãã«ä½œæ¥­ã‚’ä¸­æ­¢ã—ã€æ–°é®®ãªç©ºæ°—ã®å ´æ‰€ã¸"
        ],
        emergency_action: "ä¸‡ãŒä¸€ã®å ´åˆã¯æ•‘æ€¥è»Šï¼ˆ119ç•ªï¼‰ã¸ã®é€£çµ¡ã‚‚æ¤œè¨ã—ã¦ãã ã•ã„",
        products: ["ã‚«ãƒ“ã‚­ãƒ©ãƒ¼", "ã‚­ãƒƒãƒãƒ³ãƒã‚¤ã‚¿ãƒ¼", "å¡©ç´ ç³»æ¼‚ç™½å‰¤"]
    },

    // å¼·é…¸æ€§æ´—å‰¤ã®å±é™ºæ€§
    strong_acid: {
        level: "CRITICAL", 
        icon: "âš ï¸ğŸ”¥",
        title: "å¼·é…¸æ€§æ´—å‰¤ä½¿ç”¨æ™‚ã®é‡è¦ãªè­¦å‘Š",
        warnings: [
            "ğŸ§¤ å¿…ãšã‚´ãƒ æ‰‹è¢‹ã‚’ç€ç”¨ï¼ˆç´ æ‰‹ã§ã®ä½¿ç”¨ã¯çš®è†šæå‚·ã®å±é™ºï¼‰",
            "ğŸ‘€ ä¿è­·ãƒ¡ã‚¬ãƒã¾ãŸã¯ä¿è­·ã‚´ãƒ¼ã‚°ãƒ«ç€ç”¨å¿…é ˆ",
            "ğŸ’¨ ååˆ†ãªæ›æ°—ï¼ˆé…¸æ€§ã‚¬ã‚¹ã«ã‚ˆã‚‹å‘¼å¸å™¨ã¸ã®å½±éŸ¿é˜²æ­¢ï¼‰",
            "ğŸš« é‡‘å±éƒ¨åˆ†ã¸ã®é•·æ™‚é–“æ¥è§¦ã¯è…é£Ÿã®åŸå› ",
            "ğŸ’§ ä½¿ç”¨å¾Œã¯å¤§é‡ã®æ°´ã§ã—ã£ã‹ã‚Šã¨æ´—ã„æµã™",
            "ğŸš¿ ä¸‡ãŒä¸€çš®è†šã«ä»˜ã„ãŸå ´åˆã¯å³åº§ã«å¤§é‡ã®æ°´ã§æ´—æµ„",
            "ğŸ‘ï¸ ç›®ã«å…¥ã£ãŸå ´åˆã¯15åˆ†ä»¥ä¸Šæ°´ã§æ´—ã„æµã—ã€åŒ»å¸«ã®è¨ºå¯Ÿã‚’å—ã‘ã‚‹"
        ],
        emergency_action: "é‡ç¯¤ãªç—‡çŠ¶ãŒå‡ºãŸå ´åˆã¯è¿·ã‚ãšæ•‘æ€¥å—è¨º",
        products: ["ã‚µãƒ³ãƒãƒ¼ãƒ«", "èŒ‚æœ¨å’Œå“‰", "ãƒˆã‚¤ãƒ¬ç”¨é…¸æ€§æ´—å‰¤"]
    },

    // é«˜æ‰€ä½œæ¥­ã®å±é™ºæ€§
    height_work: {
        level: "HIGH",
        icon: "âš ï¸ğŸ“",
        title: "é«˜æ‰€ä½œæ¥­æ™‚ã®å®‰å…¨å¯¾ç­–",
        warnings: [
            "ğŸªœ å®‰å®šã—ãŸè„šç«‹ã‚’ä½¿ç”¨ï¼ˆæ¤…å­ã‚„ä¸å®‰å®šãªå°ã¯ä½¿ç”¨ç¦æ­¢ï¼‰",
            "ğŸ‘¥ ã§ãã‚‹ã ã‘äºŒäººä»¥ä¸Šã§ä½œæ¥­ï¼ˆä¸€äººã¯è„šç«‹ã‚’æ”¯ãˆã‚‹ï¼‰",
            "ğŸ‘Ÿ æ»‘ã‚Šã«ãã„é´ã‚’ç€ç”¨",
            "ğŸ§´ æ´—å‰¤ç­‰ã¯äº‹å‰ã«æ‰‹ã®å±Šãå ´æ‰€ã«æº–å‚™",
            "â° ç„¡ç†ã‚’ã›ãšã€ç–²ã‚ŒãŸã‚‰ä¼‘æ†©",
            "ğŸŒ§ï¸ é›¨å¤©æ™‚ã‚„ä½“èª¿ä¸è‰¯æ™‚ã¯ä½œæ¥­ã‚’é¿ã‘ã‚‹"
        ],
        emergency_action: "è»¢è½äº‹æ•…ã®å ´åˆã¯å‹•ã‹ã•ãšã€å³åº§ã«æ•‘æ€¥è»Šè¦è«‹",
        applicable_areas: ["ã‚¨ã‚¢ã‚³ãƒ³", "æ›æ°—æ‰‡", "é«˜ã„çª“", "ç…§æ˜å™¨å…·"]
    },

    // é›»æ°—è¨­å‚™å‘¨ã‚Šã®å®‰å…¨
    electrical_safety: {
        level: "HIGH",
        icon: "âš ï¸âš¡",
        title: "é›»æ°—è¨­å‚™å‘¨è¾ºã§ã®å®‰å…¨å¯¾ç­–",
        warnings: [
            "ğŸ”Œ å¿…ãšé›»æºã‚’åˆ‡ã£ã¦ã‹ã‚‰ä½œæ¥­é–‹å§‹",
            "ğŸ’§ æ°´ã‚„æ´—å‰¤ãŒé›»æ°—éƒ¨åˆ†ã«ã‹ã‹ã‚‰ãªã„ã‚ˆã†æ³¨æ„",
            "ğŸ§¤ æ¿¡ã‚ŒãŸæ‰‹ã§ã®é›»æ°—æ“ä½œã¯çµ¶å¯¾ç¦æ­¢",
            "ğŸ›¡ï¸ ã‚³ãƒ³ã‚»ãƒ³ãƒˆå‘¨ã‚Šã¯ä¹¾ã„ãŸå¸ƒã§æ‹­ã",
            "ğŸ”§ åˆ†è§£ãŒå¿…è¦ãªå ´åˆã¯å°‚é–€æ¥­è€…ã«ä¾é ¼"
        ],
        emergency_action: "æ„Ÿé›»äº‹æ•…ã®å ´åˆã¯é›»æºã‚’åˆ‡ã£ã¦ã‹ã‚‰æ•‘æ€¥è¦è«‹",
        applicable_areas: ["ã‚¨ã‚¢ã‚³ãƒ³", "æ›æ°—æ‰‡", "æ´—æ¿¯æ©Ÿ", "å†·è”µåº«å‘¨ã‚Š"]
    }
};

// ğŸ§ª æ´—å‰¤åˆ¥å®‰å…¨æƒ…å ±
export const DETERGENT_SAFETY_INFO = {
    alkaline: {
        name: "ã‚¢ãƒ«ã‚«ãƒªæ€§æ´—å‰¤",
        ph_range: "9-14",
        risks: ["çš®è†šã®ç‚ç—‡", "ç›®ã¸ã®åˆºæ¿€", "ã‚¢ãƒ«ãƒŸãƒ‹ã‚¦ãƒ ã®è…é£Ÿ"],
        protection: ["ã‚´ãƒ æ‰‹è¢‹å¿…é ˆ", "ç›®ã®ä¿è­·", "æ›æ°—æ¨å¥¨"],
        first_aid: "å¤§é‡ã®æ°´ã§æ´—æµ„å¾Œã€ç—›ã¿ãŒç¶šãå ´åˆã¯åŒ»å¸«ã«ç›¸è«‡"
    },
    acidic: {
        name: "é…¸æ€§æ´—å‰¤", 
        ph_range: "0-6",
        risks: ["åŒ–å­¦ã‚„ã‘ã©", "é‡‘å±è…é£Ÿ", "æœ‰å®³ã‚¬ã‚¹ç™ºç”Ÿï¼ˆæ··åˆæ™‚ï¼‰"],
        protection: ["ã‚´ãƒ æ‰‹è¢‹å¿…é ˆ", "ä¿è­·ãƒ¡ã‚¬ãƒå¿…é ˆ", "å¼·åŠ›æ›æ°—å¿…é ˆ"],
        first_aid: "å³åº§ã«å¤§é‡ã®æ°´ã§15åˆ†ä»¥ä¸Šæ´—æµ„ã€åŒ»å¸«ã®è¨ºå¯Ÿæ¨å¥¨"
    },
    chlorine: {
        name: "å¡©ç´ ç³»æ´—å‰¤",
        ph_range: "11-13", 
        risks: ["æœ‰æ¯’ã‚¬ã‚¹ç™ºç”Ÿ", "çš®è†šãƒ»å‘¼å¸å™¨ã¸ã®é‡å¤§ãªå½±éŸ¿", "æ¼‚ç™½ä½œç”¨"],
        protection: ["å®Œå…¨é˜²è­·å…·ç€ç”¨", "å¼·åŠ›æ›æ°—", "å®¶æ—ãƒ»ãƒšãƒƒãƒˆé¿é›£"],
        first_aid: "å‘¼å¸å›°é›£ç­‰ã®ç—‡çŠ¶ãŒã‚ã‚Œã°æ•‘æ€¥å—è¨ºã‚’èºŠèº‡ã—ãªã„"
    },
    neutral: {
        name: "ä¸­æ€§æ´—å‰¤",
        ph_range: "6-8",
        risks: ["è»½å¾®ãªçš®è†šåˆºæ¿€", "ç›®ã¸ã®åˆºæ¿€"],
        protection: ["è»½å¾®ãªæ³¨æ„ã§å¯", "æ‰‹è¢‹æ¨å¥¨"],
        first_aid: "æ°´ã§æ´—æµ„ã€å•é¡Œãªã‘ã‚Œã°ç¶™ç¶šå¯èƒ½"
    }
};

// ğŸ  å ´æ‰€åˆ¥å®‰å…¨ã‚¬ã‚¤ãƒ‰
export const LOCATION_SAFETY_GUIDES = {
    bathroom: {
        icon: "ğŸ›âš ï¸",
        title: "æµ´å®¤æƒé™¤ã®å®‰å…¨å¯¾ç­–",
        specific_risks: [
            "æ»‘ã‚Šã‚„ã™ã„åºŠã§ã®è»¢å€’",
            "å¯†é–‰ç©ºé–“ã§ã®æœ‰å®³ã‚¬ã‚¹è“„ç©",
            "é«˜æ¹¿åº¦ã«ã‚ˆã‚‹æ´—å‰¤ã®åŠ¹æœå¤‰åŒ–"
        ],
        safety_measures: [
            "æ»‘ã‚Šæ­¢ã‚ãƒãƒƒãƒˆã®ä½¿ç”¨",
            "ãƒ‰ã‚¢ã‚’é–‹æ”¾ã—ã¦æ›æ°—ç¢ºä¿",
            "ã“ã¾ã‚ãªä¼‘æ†©ã§å¤–æ°—ã‚’å¸ã†",
            "æµ´æ§½ã«è¶³ã‚’å…¥ã‚Œã‚‹éš›ã®æ…é‡ãªå‹•ä½œ"
        ]
    },
    kitchen: {
        icon: "ğŸ³âš ï¸", 
        title: "ã‚­ãƒƒãƒãƒ³æƒé™¤ã®å®‰å…¨å¯¾ç­–",
        specific_risks: [
            "é«˜æ¸©éƒ¨åˆ†ã§ã®ã‚„ã‘ã©",
            "æ²¹æ±šã‚Œã«ã‚ˆã‚‹æ»‘ã‚Š",
            "æ›æ°—æ‰‡ã§ã®é«˜æ‰€ä½œæ¥­"
        ],
        safety_measures: [
            "ã‚³ãƒ³ãƒ­ç­‰ã®å®Œå…¨å†·å´ç¢ºèª",
            "è¶³å…ƒã®æ²¹æ±šã‚Œé™¤å»ã‚’å„ªå…ˆ",
            "æ›æ°—æ‰‡ã¯è„šç«‹ä½¿ç”¨ï¼‹è£œåŠ©è€…ç¢ºä¿"
        ]
    },
    toilet: {
        icon: "ğŸš½âš ï¸",
        title: "ãƒˆã‚¤ãƒ¬æƒé™¤ã®å®‰å…¨å¯¾ç­–", 
        specific_risks: [
            "å¼·é…¸æ€§æ´—å‰¤ã®ä½¿ç”¨é »åº¦",
            "ç‹­ã„ç©ºé–“ã§ã®æ›æ°—ä¸è¶³",
            "ä¾¿å™¨å†…ã§ã®æ´—å‰¤é£›æ•£"
        ],
        safety_measures: [
            "ãƒ‰ã‚¢é–‹æ”¾ï¼‹æ›æ°—æ‰‡ã§å¼·åˆ¶æ›æ°—",
            "æ´—å‰¤ä½¿ç”¨é‡ã®é©æ­£åŒ–",
            "ä¿è­·å…·ã®ç¢ºå®Ÿãªç€ç”¨"
        ]
    }
};

// ğŸš¨ ç·Šæ€¥æ™‚å¯¾å¿œãƒ•ãƒ­ãƒ¼ãƒãƒ£ãƒ¼ãƒˆ
export const EMERGENCY_RESPONSE_FLOW = {
    chemical_contact: {
        title: "åŒ–å­¦æ´—å‰¤ãŒçš®è†šãƒ»ç›®ã«ä»˜ç€ã—ãŸå ´åˆ",
        immediate_steps: [
            "1ï¸âƒ£ ä½œæ¥­ã‚’å³åº§ã«ä¸­æ­¢",
            "2ï¸âƒ£ æ±šæŸ“ã•ã‚ŒãŸè¡£æœã‚’è„±ã",
            "3ï¸âƒ£ å¤§é‡ã®æµæ°´ã§15åˆ†ä»¥ä¸Šæ´—æµ„",
            "4ï¸âƒ£ ç—›ã¿ãƒ»ç™ºèµ¤ãŒç¶šãå ´åˆã¯åŒ»å¸«ã«ç›¸è«‡",
            "5ï¸âƒ£ å•†å“ãƒ©ãƒ™ãƒ«ã‚’æŒå‚ã—ã¦å—è¨º"
        ]
    },
    gas_inhalation: {
        title: "æœ‰å®³ã‚¬ã‚¹ã‚’å¸ã„è¾¼ã‚“ã å ´åˆ",
        immediate_steps: [
            "1ï¸âƒ£ å³åº§ã«æ–°é®®ãªç©ºæ°—ã®å ´æ‰€ã¸ç§»å‹•",
            "2ï¸âƒ£ è¡£æœã‚’ç·©ã‚ã¦æ¥½ãªå§¿å‹¢ã«",
            "3ï¸âƒ£ æ·±å‘¼å¸ã‚’é¿ã‘ã€è‡ªç„¶ãªå‘¼å¸ã‚’ç¶­æŒ",
            "4ï¸âƒ£ ç—‡çŠ¶ãŒæ”¹å–„ã—ãªã„å ´åˆã¯æ•‘æ€¥è¦è«‹",
            "5ï¸âƒ£ ä½¿ç”¨ã—ãŸæ´—å‰¤åã‚’æ•‘æ€¥éšŠã«ä¼é”"
        ]
    },
    fall_accident: {
        title: "è»¢å€’ãƒ»è»¢è½äº‹æ•…ã®å ´åˆ", 
        immediate_steps: [
            "1ï¸âƒ£ ç„¡ç†ã«å‹•ã‹ã•ãªã„",
            "2ï¸âƒ£ æ„è­˜ãƒ»å‘¼å¸ã®ç¢ºèª",
            "3ï¸âƒ£ å‡ºè¡€ãŒã‚ã‚‹å ´åˆã¯åœ§è¿«æ­¢è¡€",
            "4ï¸âƒ£ é‡ç¯¤ã¨åˆ¤æ–­ã•ã‚Œã‚‹å ´åˆã¯æ•‘æ€¥è¦è«‹",
            "5ï¸âƒ£ å®‰å…¨ãªå ´æ‰€ã§å®‰é™ã«ã—ã¦çµŒéè¦³å¯Ÿ"
        ]
    }
};

// ğŸ¯ å‹•çš„å®‰å…¨è­¦å‘Šç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ 
export class SafetyWarningSystem {
    
    /**
     * æ±šã‚Œã‚¿ã‚¤ãƒ—ã¨å ´æ‰€ã«åŸºã¥ãå®‰å…¨è­¦å‘Šç”Ÿæˆ
     */
    static generateSafetyWarnings(dirtType, location, severity = 'heavy') {
        const warnings = [];
        
        // æ±šã‚Œã‚¿ã‚¤ãƒ—åˆ¥è­¦å‘Š
        if (dirtType.includes('ã‚«ãƒ“')) {
            warnings.push(CRITICAL_SAFETY_WARNINGS.chlorine_bleach);
        }
        
        if (dirtType.includes('å°¿çŸ³') || dirtType.includes('æ°´å¢')) {
            warnings.push(CRITICAL_SAFETY_WARNINGS.strong_acid);
        }
        
        // å ´æ‰€åˆ¥è­¦å‘Š
        if (location === 'aircon' || location === 'æ›æ°—æ‰‡') {
            warnings.push(CRITICAL_SAFETY_WARNINGS.height_work);
            warnings.push(CRITICAL_SAFETY_WARNINGS.electrical_safety);
        }
        
        // å ´æ‰€åˆ¥å®‰å…¨ã‚¬ã‚¤ãƒ‰è¿½åŠ 
        if (LOCATION_SAFETY_GUIDES[location]) {
            warnings.push(LOCATION_SAFETY_GUIDES[location]);
        }
        
        return warnings;
    }
    
    /**
     * ä½¿ç”¨å•†å“ã«åŸºã¥ãå®‰å…¨æƒ…å ±ç”Ÿæˆ
     */
    static generateProductSafetyInfo(products) {
        const safetyInfo = [];
        
        products.forEach(product => {
            if (product.chemical_type) {
                const info = DETERGENT_SAFETY_INFO[product.chemical_type];
                if (info) {
                    safetyInfo.push({
                        product: product.name,
                        safety: info
                    });
                }
            }
        });
        
        return safetyInfo;
    }
    
    /**
     * ç·Šæ€¥æ™‚å¯¾å¿œæƒ…å ±ã®å–å¾—
     */
    static getEmergencyResponseInfo() {
        return EMERGENCY_RESPONSE_FLOW;
    }
}

// ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
export default {
    CRITICAL_SAFETY_WARNINGS,
    DETERGENT_SAFETY_INFO, 
    LOCATION_SAFETY_GUIDES,
    EMERGENCY_RESPONSE_FLOW,
    SafetyWarningSystem
};