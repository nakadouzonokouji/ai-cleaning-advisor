<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å…¨ã‚µãƒ–ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
        }
        
        .test-section {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .test-section h2 {
            color: #2563eb;
            margin-bottom: 15px;
            font-size: 1.5em;
        }
        
        .sublocation-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .sublocation-item {
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            background: #f9fafb;
        }
        
        .sublocation-item:hover {
            border-color: #3b82f6;
            background: #eff6ff;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        .sublocation-item.selected {
            border-color: #10b981;
            background: #d1fae5;
        }
        
        .icon {
            font-size: 2em;
            margin-bottom: 10px;
        }
        
        .name {
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .description {
            font-size: 0.9em;
            color: #6b7280;
        }
        
        .results {
            background: #f3f4f6;
            border-radius: 8px;
            padding: 15px;
            margin-top: 20px;
        }
        
        .results h3 {
            color: #059669;
            margin-bottom: 10px;
        }
        
        .product-list {
            display: grid;
            gap: 10px;
        }
        
        .product-item {
            background: white;
            padding: 10px;
            border-radius: 6px;
            border: 1px solid #e5e7eb;
        }
        
        .control-panel {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        
        .control-button {
            background: #3b82f6;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            margin: 5px;
            font-size: 1em;
        }
        
        .control-button:hover {
            background: #2563eb;
        }
        
        .status {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #10b981;
            color: white;
            padding: 10px 20px;
            border-radius: 6px;
            font-weight: bold;
        }
        
        #log {
            background: #1f2937;
            color: #f3f4f6;
            padding: 15px;
            border-radius: 8px;
            font-family: monospace;
            font-size: 0.9em;
            max-height: 300px;
            overflow-y: auto;
            margin-top: 20px;
        }
        
        .log-entry {
            margin-bottom: 5px;
            padding: 5px;
            border-left: 3px solid #3b82f6;
            padding-left: 10px;
        }
        
        .log-entry.error {
            border-left-color: #ef4444;
            color: #fca5a5;
        }
        
        .log-entry.success {
            border-left-color: #10b981;
            color: #86efac;
        }
    </style>
</head>
<body>
    <h1>ğŸ§ª å…¨ã‚µãƒ–ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ</h1>
    
    <div class="status">ã‚·ã‚¹ãƒ†ãƒ æº–å‚™å®Œäº†</div>
    
    <!-- ã‚­ãƒƒãƒãƒ³ã‚µãƒ–ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ -->
    <div class="test-section">
        <h2>ğŸ”¥ ã‚­ãƒƒãƒãƒ³</h2>
        <div class="sublocation-grid">
            <div class="sublocation-item" data-location="kitchen" data-sublocation="kitchen_sink">
                <div class="icon">ğŸš°</div>
                <div class="name">ã‚·ãƒ³ã‚¯</div>
                <div class="description">æµã—å°ãƒ»æ°´å¢</div>
            </div>
            <div class="sublocation-item" data-location="kitchen" data-sublocation="kitchen_gas">
                <div class="icon">ğŸ”¥</div>
                <div class="name">ã‚¬ã‚¹ã‚³ãƒ³ãƒ­</div>
                <div class="description">äº”å¾³ãƒ»ç„¦ã’ä»˜ã</div>
            </div>
            <div class="sublocation-item" data-location="kitchen" data-sublocation="kitchen_ih">
                <div class="icon">âš¡</div>
                <div class="name">IHã‚³ãƒ³ãƒ­</div>
                <div class="description">å¤©æ¿ãƒ»ç„¦ã’</div>
            </div>
            <div class="sublocation-item" data-location="kitchen" data-sublocation="kitchen_fan">
                <div class="icon">ğŸ’¨</div>
                <div class="name">æ›æ°—æ‰‡</div>
                <div class="description">æ²¹æ±šã‚Œ</div>
            </div>
        </div>
        <div class="results" id="kitchen-results" style="display:none;"></div>
    </div>
    
    <!-- æµ´å®¤ã‚µãƒ–ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ -->
    <div class="test-section">
        <h2>ğŸ› æµ´å®¤</h2>
        <div class="sublocation-grid">
            <div class="sublocation-item" data-location="bathroom" data-sublocation="bathroom_tub">
                <div class="icon">ğŸ›</div>
                <div class="name">æµ´æ§½</div>
                <div class="description">æ¹¯å¢ãƒ»çš®è„‚</div>
            </div>
            <div class="sublocation-item" data-location="bathroom" data-sublocation="bathroom_wall">
                <div class="icon">ğŸ§±</div>
                <div class="name">å£ãƒ»å¤©äº•</div>
                <div class="description">ã‚«ãƒ“ãƒ»æ°´å¢</div>
            </div>
            <div class="sublocation-item" data-location="bathroom" data-sublocation="bathroom_floor">
                <div class="icon">ğŸ </div>
                <div class="name">åºŠ</div>
                <div class="description">ã¬ã‚ã‚Šãƒ»æ±šã‚Œ</div>
            </div>
            <div class="sublocation-item" data-location="bathroom" data-sublocation="bathroom_drain">
                <div class="icon">ğŸ•³ï¸</div>
                <div class="name">æ’æ°´å£</div>
                <div class="description">é«ªã®æ¯›ãƒ»ã¬ã‚ã‚Š</div>
            </div>
        </div>
        <div class="results" id="bathroom-results" style="display:none;"></div>
    </div>
    
    <!-- ãƒˆã‚¤ãƒ¬ã‚µãƒ–ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ -->
    <div class="test-section">
        <h2>ğŸš½ ãƒˆã‚¤ãƒ¬</h2>
        <div class="sublocation-grid">
            <div class="sublocation-item" data-location="toilet" data-sublocation="toilet_bowl">
                <div class="icon">ğŸš½</div>
                <div class="name">ä¾¿å™¨å†…</div>
                <div class="description">å°¿çŸ³ãƒ»é»„ã°ã¿</div>
            </div>
            <div class="sublocation-item" data-location="toilet" data-sublocation="toilet_seat">
                <div class="icon">ğŸª‘</div>
                <div class="name">ä¾¿åº§ãƒ»è“‹</div>
                <div class="description">é™¤èŒãƒ»æ±šã‚Œ</div>
            </div>
            <div class="sublocation-item" data-location="toilet" data-sublocation="toilet_floor">
                <div class="icon">ğŸ </div>
                <div class="name">åºŠãƒ»å£</div>
                <div class="description">é£›ã³æ•£ã‚Šãƒ»åŒ‚ã„</div>
            </div>
            <div class="sublocation-item" data-location="toilet" data-sublocation="toilet_tank">
                <div class="icon">ğŸ“¦</div>
                <div class="name">ã‚¿ãƒ³ã‚¯</div>
                <div class="description">æ°´å¢ãƒ»ã‚«ãƒ“</div>
            </div>
        </div>
        <div class="results" id="toilet-results" style="display:none;"></div>
    </div>
    
    <!-- ãƒªãƒ“ãƒ³ã‚°ã‚µãƒ–ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ -->
    <div class="test-section">
        <h2>ğŸ›‹ï¸ ãƒªãƒ“ãƒ³ã‚°</h2>
        <div class="sublocation-grid">
            <div class="sublocation-item" data-location="living" data-sublocation="living_sofa">
                <div class="icon">ğŸ›‹ï¸</div>
                <div class="name">ã‚½ãƒ•ã‚¡</div>
                <div class="description">å¸ƒåœ°ãƒ»ã‚·ãƒŸ</div>
            </div>
            <div class="sublocation-item" data-location="living" data-sublocation="living_carpet">
                <div class="icon">ğŸ§½</div>
                <div class="name">çµ¨æ¯¯</div>
                <div class="description">ã‚·ãƒŸãƒ»ãƒ€ãƒ‹</div>
            </div>
            <div class="sublocation-item" data-location="living" data-sublocation="living_floor">
                <div class="icon">ğŸ </div>
                <div class="name">ãƒ•ãƒ­ãƒ¼ãƒªãƒ³ã‚°</div>
                <div class="description">ãƒ›ã‚³ãƒªãƒ»æ±šã‚Œ</div>
            </div>
            <div class="sublocation-item" data-location="living" data-sublocation="living_furniture">
                <div class="icon">ğŸª‘</div>
                <div class="name">å®¶å…·</div>
                <div class="description">ãƒ›ã‚³ãƒªãƒ»æ‰‹å¢</div>
            </div>
        </div>
        <div class="results" id="living-results" style="display:none;"></div>
    </div>
    
    <!-- çª“ã‚µãƒ–ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ -->
    <div class="test-section">
        <h2>ğŸªŸ çª“</h2>
        <div class="sublocation-grid">
            <div class="sublocation-item" data-location="window" data-sublocation="window_glass">
                <div class="icon">ğŸªŸ</div>
                <div class="name">ã‚¬ãƒ©ã‚¹é¢</div>
                <div class="description">æ±šã‚Œãƒ»æ›‡ã‚Š</div>
            </div>
            <div class="sublocation-item" data-location="window" data-sublocation="window_frame">
                <div class="icon">ğŸ”²</div>
                <div class="name">ã‚µãƒƒã‚·ãƒ»æ </div>
                <div class="description">æºã®æ±šã‚Œ</div>
            </div>
            <div class="sublocation-item" data-location="window" data-sublocation="window_screen">
                <div class="icon">ğŸ•¸ï¸</div>
                <div class="name">ç¶²æˆ¸</div>
                <div class="description">ãƒ›ã‚³ãƒªãƒ»èŠ±ç²‰</div>
            </div>
            <div class="sublocation-item" data-location="window" data-sublocation="window_curtain">
                <div class="icon">ğŸªŸ</div>
                <div class="name">ã‚«ãƒ¼ãƒ†ãƒ³</div>
                <div class="description">æ±šã‚Œãƒ»åŒ‚ã„</div>
            </div>
        </div>
        <div class="results" id="window-results" style="display:none;"></div>
    </div>
    
    <!-- åºŠã‚µãƒ–ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ -->
    <div class="test-section">
        <h2>ğŸ§¹ åºŠ</h2>
        <div class="sublocation-grid">
            <div class="sublocation-item" data-location="floor" data-sublocation="floor_wood">
                <div class="icon">ğŸªµ</div>
                <div class="name">ãƒ•ãƒ­ãƒ¼ãƒªãƒ³ã‚°</div>
                <div class="description">å‚·ãƒ»ãƒ¯ãƒƒã‚¯ã‚¹</div>
            </div>
            <div class="sublocation-item" data-location="floor" data-sublocation="floor_tile">
                <div class="icon">ğŸ¢</div>
                <div class="name">ã‚¿ã‚¤ãƒ«</div>
                <div class="description">ç›®åœ°ãƒ»æ±šã‚Œ</div>
            </div>
            <div class="sublocation-item" data-location="floor" data-sublocation="floor_carpet">
                <div class="icon">ğŸ§¶</div>
                <div class="name">ã‚«ãƒ¼ãƒšãƒƒãƒˆ</div>
                <div class="description">ã‚·ãƒŸãƒ»ãƒ€ãƒ‹</div>
            </div>
            <div class="sublocation-item" data-location="floor" data-sublocation="floor_tatami">
                <div class="icon">ğŸ‹</div>
                <div class="name">ç•³</div>
                <div class="description">ã‚«ãƒ“ãƒ»æ¹¿æ°—</div>
            </div>
        </div>
        <div class="results" id="floor-results" style="display:none;"></div>
    </div>
    
    <!-- ãƒ­ã‚°è¡¨ç¤ºã‚¨ãƒªã‚¢ -->
    <div class="test-section">
        <h2>ğŸ“Š ãƒ†ã‚¹ãƒˆãƒ­ã‚°</h2>
        <div id="log"></div>
    </div>
    
    <!-- ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ‘ãƒãƒ« -->
    <div class="control-panel">
        <button class="control-button" onclick="testAllSublocations()">å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ</button>
        <button class="control-button" onclick="clearLog()">ãƒ­ã‚°ã‚¯ãƒªã‚¢</button>
        <button class="control-button" onclick="loadMainApp()">æœ¬ç•ªã‚¢ãƒ—ãƒªèµ·å‹•</button>
    </div>
    
    <!-- ã‚¢ãƒ—ãƒªã®JavaScriptã‚’èª­ã¿è¾¼ã¿ -->
    <script src="app.js"></script>
    <script src="comprehensive-cleaning-products.js"></script>
    
    <script>
        // ãƒ­ã‚°æ©Ÿèƒ½
        function addLog(message, type = 'info') {
            const log = document.getElementById('log');
            const entry = document.createElement('div');
            entry.className = `log-entry ${type}`;
            const timestamp = new Date().toLocaleTimeString();
            entry.textContent = `[${timestamp}] ${message}`;
            log.appendChild(entry);
            log.scrollTop = log.scrollHeight;
        }
        
        // ãƒ­ã‚°ã‚¯ãƒªã‚¢
        function clearLog() {
            document.getElementById('log').innerHTML = '';
            addLog('ãƒ­ã‚°ã‚’ã‚¯ãƒªã‚¢ã—ã¾ã—ãŸ', 'success');
        }
        
        // ã‚µãƒ–ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚¯ãƒªãƒƒã‚¯ãƒãƒ³ãƒ‰ãƒ©ãƒ¼
        document.querySelectorAll('.sublocation-item').forEach(item => {
            item.addEventListener('click', function() {
                const location = this.dataset.location;
                const sublocation = this.dataset.sublocation;
                
                // é¸æŠçŠ¶æ…‹ã‚’ãƒˆã‚°ãƒ«
                document.querySelectorAll(`[data-location="${location}"]`).forEach(el => {
                    el.classList.remove('selected');
                });
                this.classList.add('selected');
                
                // ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
                testSublocation(location, sublocation);
            });
        });
        
        // ã‚µãƒ–ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆ
        function testSublocation(location, sublocation) {
            addLog(`ãƒ†ã‚¹ãƒˆé–‹å§‹: ${location} â†’ ${sublocation}`);
            
            try {
                // ã‚¢ãƒ‰ãƒã‚¤ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’å–å¾—ã¾ãŸã¯ä½œæˆ
                if (!window.cleaningAdvisor) {
                    window.cleaningAdvisor = new StepWiseCleaningAdvisor();
                    addLog('CleaningAdvisorã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œæˆã—ã¾ã—ãŸ', 'success');
                }
                
                const advisor = window.cleaningAdvisor;
                
                // è»½ã„æ±šã‚Œã§ãƒ†ã‚¹ãƒˆ
                const lightProducts = advisor.getLocationSpecificCleaners(location, 1, sublocation);
                addLog(`è»½ã„æ±šã‚Œç”¨å•†å“: ${lightProducts.length}ä»¶å–å¾—`, 'success');
                
                // é ‘å›ºãªæ±šã‚Œã§ãƒ†ã‚¹ãƒˆ
                const heavyProducts = advisor.getLocationSpecificCleaners(location, 2, sublocation);
                addLog(`é ‘å›ºãªæ±šã‚Œç”¨å•†å“: ${heavyProducts.length}ä»¶å–å¾—`, 'success');
                
                // çµæœè¡¨ç¤º
                const resultsDiv = document.getElementById(`${location}-results`);
                resultsDiv.style.display = 'block';
                resultsDiv.innerHTML = `
                    <h3>âœ… ${sublocation} ã®ãƒ†ã‚¹ãƒˆçµæœ</h3>
                    <div class="product-list">
                        <div class="product-item">
                            <strong>è»½ã„æ±šã‚Œç”¨:</strong> ${lightProducts.length}ä»¶ã®å•†å“
                            ${lightProducts.slice(0, 3).map(p => `<br>â€¢ ${p.title}`).join('')}
                        </div>
                        <div class="product-item">
                            <strong>é ‘å›ºãªæ±šã‚Œç”¨:</strong> ${heavyProducts.length}ä»¶ã®å•†å“
                            ${heavyProducts.slice(0, 3).map(p => `<br>â€¢ ${p.title}`).join('')}
                        </div>
                    </div>
                `;
                
            } catch (error) {
                addLog(`ã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
                console.error(error);
            }
        }
        
        // å…¨ã‚µãƒ–ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆ
        function testAllSublocations() {
            addLog('=== å…¨ã‚µãƒ–ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆé–‹å§‹ ===', 'success');
            
            const sublocationItems = document.querySelectorAll('.sublocation-item');
            let index = 0;
            
            function testNext() {
                if (index < sublocationItems.length) {
                    const item = sublocationItems[index];
                    const location = item.dataset.location;
                    const sublocation = item.dataset.sublocation;
                    
                    item.classList.add('selected');
                    testSublocation(location, sublocation);
                    
                    setTimeout(() => {
                        item.classList.remove('selected');
                        index++;
                        testNext();
                    }, 500);
                } else {
                    addLog('=== å…¨ãƒ†ã‚¹ãƒˆå®Œäº† ===', 'success');
                }
            }
            
            testNext();
        }
        
        // æœ¬ç•ªã‚¢ãƒ—ãƒªèµ·å‹•
        function loadMainApp() {
            window.location.href = 'index.html';
        }
        
        // åˆæœŸåŒ–
        window.addEventListener('DOMContentLoaded', () => {
            addLog('ãƒ†ã‚¹ãƒˆã‚·ã‚¹ãƒ†ãƒ åˆæœŸåŒ–å®Œäº†', 'success');
            addLog('ã‚µãƒ–ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãƒ†ã‚¹ãƒˆã‚’é–‹å§‹ã—ã¦ãã ã•ã„');
        });
    </script>
</body>
</html>